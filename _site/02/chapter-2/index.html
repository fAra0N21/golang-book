
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Golang Book: Глава 2 • Ваша первая программа</title>
    
    <meta name="author" content="Vlad Shvedov">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/twitter/syntax.css" rel="stylesheet">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">Golang-book</a>
          <ul class="nav">
            
            
            


  
    
    	
    	<li><a href="/about.html">О книге</a></li>
    	
    
  
    
  
    
  
    
  
    
    	
    	<li><a href="/table-of-contents.html">Содержание</a></li>
    	
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="content">
        
<div class="page-header">
  <h1>Глава 2 • Ваша первая программа</h1>
</div>

<div class="row">
  <div class="span8">
    <p>Традиционно, первая программа, которую вы пишете на любом языке программирования, называется <code>“Hello World”</code> — программа, которая просто выводит <code>Hello World</code> в вашем терминале. Давайте напишем такую на Go.</p>

<p>Сперва создайте новую папку, в которой можно сохранить нашу программу. Инсталлятор, который вы использовали в Главе 1, создал папку «Go» в вашей домашней директории. Создайте папку под именем <code>~/Go/src/golang-book/chapter2</code> (где <code>~</code> означает вашу домашнюю директорию). Из терминала это можно сделать, введя следующие команды:</p>

<p><code>
  mkdir Go/src/golang-book
  mkdir Go/src/golang-book/chapter2
</code></p>

<p>Используя ваш текстовый редактор, наберите следующее:</p>

<pre><code>package main

import &quot;fmt&quot;

// this is a comment

func main() {
    fmt.Println(&quot;Hello World&quot;)
  }</code></pre>

<p>Убедитесь, что в вашем файле написано то же, что показано здесь, и сохраните его как main.go в папке, которую вы только что создали. Откройте новый терминал и наберите следующее:</p>

<p><code>
cd Go/src/golang-book/chapter2
go run main.go
</code></p>

<p>Вы должны увидеть в вашем терминале надпись Hello World. Команда go run берет последующие (разделенные пробелами) файлы, компилирует их в исполняемый файл, сохраненный во временной папке, и затем запускает программу. Если вы не видите надписи Hello World, возможно, вы допустили ошибку во время набора кода. Компилятор Go даст вам подсказки о том, где были сделаны ошибки. Как и большинство компиляторов, компилятор Go очень педантичен и нетерпим к ошибкам.</p>

<h2 id='____go'>Как читать программу на Go</h2>

<p>Рассмотрим эту программу более детально. Программы Go читаются сверху вниз, слева направо, как книга. Первая строка гласит:</p>

<pre><code>package main</code></pre>

<p>Это называется «объявление пакета». Все программы Go должны начинаться с объявления пакета. Пакеты — это способ организации и повторного использования кода в Go. Есть два вида программ на Go: исполняемые файлы и библиотеки. Исполняемые приложения — это вид программ, которые можно запускать прямо из терминала (в Windows они имеют расширение .exe). Библиотеки представляют собой наборы кода, которые мы упаковываем вместе, чтобы использовать в других программах. Позже мы рассмотрим библиотеки более подробно, а сейчас просто не забудьте включить эту строку в любую программу, которую пишете.</p>

<p>Следующая строка пустая. Компьютер представляет знак переноса строки специальным символом (или несколькими символами). Символы новой строки, пробелов и табуляции известны как пробелы (потому что вы не можете их видеть). Язык Go в основном не требователен к пробелам, мы используем их для того, чтобы сделать программы более удобными для чтения. Вы можете удалить эту строку, а программа будет вести себя точно так же.</p>

<p>Дальше мы видим следующее:</p>

<pre><code>import &quot;fmt&quot;</code></pre>

<p>С помощью ключевого слова import мы добавляем код из других пакетов для использования в нашей программе. Пакет fmt (сокращение от слова format) реализует форматирование для ввода и вывода. Учитывая то, что мы только что узнали о пакетах, как думаете, что будет находиться в верхнем файле пакета fmt?</p>

<p>Обратите внимание, что fmt выше заключен в двойные кавычки. Такое использование двойных кавычек, известно как «строковой литерал» (String Literal). В Go строки представляют собой последовательности символов (букв, цифр, знаков и т.д.) определенной длины. Строки описаны более подробно в следующей главе, а сейчас важно помнить, что за открывающим символом &#8221; в конечном итоге должен следовать еще один символ &#8220;, и все, что находится между ними, входит в строку. Сам символ &#8221; не является частью строки.</p>

<p>Строка, начинающаяся с //, называется комментарием. Комментарии игнорируются компилятором Go и нужны только для вас (или для того, кто столкнется с исходным кодом вашей программы). Go поддерживает два разных стиля комментариев: // комментарии, в которых весь текст между // и концом строки является частью комментария, и /* <em>/ комментарии, где все, что находится между</em> * является частью комментария, и он может включать в себя несколько строк.</p>

<p>После этого вы видите объявление функции:</p>

<pre><code>func main() {
     fmt.Println(&quot;Hello World&quot;)
}</code></pre>

<p>Функции являются строительными элементами программ на Go. У функции есть точка входа, точка выхода ряд шагов, которые называются объявлениями, которые исполняются в определенном порядке. Все функции начинаются с ключевого слова func, за которым следует имя функции (в данном случае main), список из нуля или большего количества «параметров», заключенных в круглые скобки, опциональный возврат результата работы и «тело», заключенное в фигурные скобки. У этой функции нет параметров, она ничего не возвращает, и у нее есть только один оператор. Функция main вызывается при выполнении программы. Это особое название для функции, потому что она исполняется сразу после того как вы запускаете программу.</p>

<p>Заключительной частью нашей программы является эта строка:</p>

<pre><code>fmt.Println(&quot;Hello World&quot;)</code></pre>

<p>Этот выражение состоит из трех компонентов. Сперва мы обращаемся к другой функции внутри пакета fmt, которая называется <code>Println</code> (это часть <code>fmt.Println</code>, <code>Println</code> означает «печать строки»). Затем мы создаем новую строку, который содержит Hello World и вызываем ее (еще модно сказать «выполняем») передавая строку как первый и единственный аргумент.</p>

<p>На данный момент мы встретили много новых терминов и вы можете быть немного перегружены. Иногда бывает полезным не спеша вслух прочесть ваш код. Чтение программы, которую мы только что написали, может выглядеть так:</p>

<p>Создаем новую исполняемую программу, которая ссылается на библиотеку fmt и содержит одну функцию, называемую main. У этой функции нет аргументов, она ничего не возвращает и выполняет следующее: обращается к функции <code>Println</code>, содержащейся внутри пакета <code>fmt</code>, вызывает ее, используя один аргумент — строку <code>Hello World</code>.</p>

<p>В этой программе функция <code>Println</code> делает реальную работу. Вы можете узнать об этом больше, введя в терминале:</p>

<p><code>
  godoc fmt Println
</code></p>

<p>Среди прочего, вы увидите это:</p>

<pre><code>Println formats using the default formats for its operands and writes to standard output. Spaces are always added between operands and a newline is appended. It returns the number of bytes written and any write error encountered.</code></pre>

<p>Язык Go очень хорошо документирован, но эту документацию может быть трудно понять, если вы не были знакомы с языками программирования. Тем не менее, команда godoc очень полезна и ее неплохо запомнить на тот случай, если у вас возникают вопросы.</p>

<p>Возвращаясь к функции: документация говорит вам, что функция <code>Println</code> будет отправлять все, что вы ей передадите, на стандартный источник вывода (в нашем случае это консоль терминала). Эта функция — и есть то, благодаря чему отображается текст <code>Hello World</code>.</p>

<p>В следующей главе мы рассмотрим, как Go хранит и отображает вещи наподобие <code>Hello World</code>, узнав о типах.</p>

<h2 id='id5'>Задания</h2>

<ul>
<li>Что такое прoбел?</li>

<li>Что такое кoмментарий? Какими двумя способами можно записать комментарий?</li>

<li>Наша программа начинается с <code>package main</code>. С чего будут начинаться файлы в пакете <code>fmt</code>?</li>

<li>Мы использовали функцию <code>Println</code>, определенную в пакете <code>fmt</code>. Что нам необходимо сделать, если мы хотим использовать функцию <code>Exit</code> из пакета <code>os</code>?</li>

<li>Измените нашу программу так, чтобы вместо печати <code>Hello World</code> она вывела <code>Hello, my name is</code> и следом ваше имя.</li>
</ul>
    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/01/chapter-1" title="Глава 1 - Приступим">&larr; Предыдущая</a></li>
      
        <li><a href="/table-of-contents.html">Содержание</a></li>
      
        <li class="next disabled"><a>Следующая &rarr;</a>
      
      </ul>
    </div>
    <hr>
  </div>
</div>


      </div>
      <div class="content">
        <div id="hypercomments_widget"></div>
<script type="text/javascript">
var _hcp = _hcp || {};_hcp.widget_id = 2819;_hcp.widget = "Stream";
(function() {
var hcc = document.createElement("script"); hcc.type = "text/javascript"; hcc.async = true;
hcc.src = ("https:" == document.location.protocol ? "https" : "http")+"://widget.hypercomments.com/apps/js/hc.js";
var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hcc, s.nextSibling);
})();
</script>
      </div>
      <footer>
        <p>
          <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank"><img src="/assets/by-nc-sa.jpg" /></a>
          &copy; <a href="http://geekdb.org" target="_blank" title="geekdb.org">Vlad Shvedov</a> 2012
        </p>
        <p>
          Части этой страницы являются доработками, основанными на работе, созданной и <a href="http://code.google.com/policies.html" target="_blank">опубликованной Google</a>, и используются в соответствии с условиями, описанными в лицензии  <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank">Creative Commons 3.0 Attribution</a>.
          © 2012 Caleb Doxsey. Cover Art: © 2012 Abigail Doxsey Anderson. All Rights Reserved.
        </p>
      </footer>
    </div>

    
  </body>
</html>

